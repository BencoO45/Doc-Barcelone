{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Doc Barcelone \ud83d\ude80 Documentation technique \u2013 BTS SIO SISR Cette documentation regroupe mes proc\u00e9dures syst\u00e8mes & r\u00e9seaux , r\u00e9alis\u00e9es durant mon BTS SIO option SISR et mon stage. \ud83d\udc27 Linux Commandes, services, DHCP, DNS \ud83c\udf10 R\u00e9seau DNS, DHCP, architecture \ud83d\udcde T\u00e9l\u00e9phonie FreePBX, VoIP, migration \ud83d\udd10 S\u00e9curit\u00e9 Stormshield, bonnes pratiques \ud83e\ude9f Windows ActiveDirectory,DHCP,GPO Cr\u00e9\u00e9 par Sefa \u2022 BTS SIO SISR","title":"Accueil"},{"location":"#doc-barcelone","text":"","title":"Doc Barcelone"},{"location":"dns/","text":"DNS Vous trouverez ici l\u2019ensemble des documentations sur le DNS que j\u2019ai r\u00e9alis\u00e9es au cours de mes ann\u00e9es de BTS SIO. Ces documents ont pour objectif de pr\u00e9senter des cas pratiques, des configurations types et des explications techniques autour du DNS. \u26a0\ufe0f Important Si vous utilisez cette documentation, pensez \u00e0 adapter les configurations en fonction de votre contexte, de votre infrastructure et de vos besoins sp\u00e9cifiques. (\u02f6\u02c3 \u1d55 \u02c2\u02f6) \u2800","title":"Introduction"},{"location":"dns/#dns","text":"Vous trouverez ici l\u2019ensemble des documentations sur le DNS que j\u2019ai r\u00e9alis\u00e9es au cours de mes ann\u00e9es de BTS SIO. Ces documents ont pour objectif de pr\u00e9senter des cas pratiques, des configurations types et des explications techniques autour du DNS. \u26a0\ufe0f Important Si vous utilisez cette documentation, pensez \u00e0 adapter les configurations en fonction de votre contexte, de votre infrastructure et de vos besoins sp\u00e9cifiques. (\u02f6\u02c3 \u1d55 \u02c2\u02f6) \u2800","title":"DNS"},{"location":"dns/dns-recursif-unbound/","text":"Installation d\u2019un serveur DNS r\u00e9cursif sous Debian 12 (Unbound) Introduction Dans ce tutoriel, nous allons apprendre \u00e0 installer et configurer un serveur DNS r\u00e9cursif sous Linux , en utilisant une machine sous Debian 12 . Le DNS (Domain Name System) est un service essentiel permettant de traduire les noms de domaine en adresses IP. Dans une entreprise, mettre en place un serveur DNS r\u00e9cursif interne permet d\u2019avoir plus de contr\u00f4le , de s\u00e9curit\u00e9 et de performances . Rappels sur le DNS Types d\u2019enregistrements DNS principaux NS (Name Server) : d\u00e9finit les serveurs DNS faisant autorit\u00e9 sur une zone. A : associe un nom de domaine \u00e0 une adresse IPv4. AAAA : associe un nom de domaine \u00e0 une adresse IPv6. CNAME (Canonical Name) : alias pointant vers un autre nom de domaine. MX : d\u00e9finit les serveurs de messagerie d\u2019un domaine (avec priorit\u00e9). TXT : enregistrement textuel (SPF, v\u00e9rifications, etc.). Avantages et inconv\u00e9nients d\u2019un DNS r\u00e9cursif interne Avantages Am\u00e9lioration des performances gr\u00e2ce au cache local R\u00e9duction de la d\u00e9pendance aux DNS publics (Google, Cloudflare\u2026) S\u00e9curit\u00e9 renforc\u00e9e (filtrage possible des requ\u00eates) Contr\u00f4le et journalisation des requ\u00eates DNS Continuit\u00e9 locale m\u00eame en cas de panne Internet Inconv\u00e9nients Complexit\u00e9 de gestion et de maintenance Consommation de ressources (CPU, m\u00e9moire) Point de d\u00e9faillance unique sans redondance Risque d\u2019erreurs de configuration Surveillance n\u00e9cessaire contre les abus DNS Installation et configuration du service Unbound Installation du service Mettre \u00e0 jour le syst\u00e8me et installer Unbound : sudo apt update sudo apt install unbound V\u00e9rifier la version install\u00e9e : sudo unbound -V Sauvegarde et configuration des fichiers La configuration d\u2019Unbound se trouve dans : /etc/unbound/unbound.conf Avant modification, il est recommand\u00e9 de sauvegarder le fichier : sudo cp /etc/unbound/unbound.conf /etc/unbound/unbound.conf.bak Exemple de configuration Unbound include-toplevel: \"/etc/unbound/unbound.conf.d/*.conf\" server: interface: 172.16.51.100 interface: 127.0.0.1 access-control: 172.16.1.0/24 allow access-control: 172.16.2.0/24 allow access-control: 172.16.3.0/24 allow access-control: 172.16.4.0/24 allow access-control: 172.16.0.0/24 allow access-control: 127.0.0.0/8 allow access-control: 0.0.0.0/0 refuse hide-version: yes hide-identity: yes do-ip4: yes verbosity: 3 Ce que fait cette configuration \u2705 Contr\u00f4le d\u2019acc\u00e8s - Autorise uniquement les r\u00e9seaux internes d\u00e9finis (VLAN) \u2705 S\u00e9curit\u00e9 - Bloque toutes les requ\u00eates DNS externes - Masque l\u2019identit\u00e9 et la version du serveur DNS \u2705 Durcissement - R\u00e9duit la surface d\u2019attaque du service DNS D\u00e9marrage du service Unbound D\u00e9marrer le service : sudo systemctl start unbound V\u00e9rifier son \u00e9tat : sudo systemctl status unbound Configuration des clients Configuration sous Windows Ouvrir le Panneau de configuration Aller dans R\u00e9seau et Internet \u2192 Centre R\u00e9seau et partage Cliquer sur Modifier les param\u00e8tres de la carte Clic droit sur la carte r\u00e9seau \u2192 Propri\u00e9t\u00e9s S\u00e9lectionner IPv4 \u2192 Propri\u00e9t\u00e9s Cocher Utiliser l\u2019adresse de serveur DNS suivante Entrer l\u2019IP du serveur DNS interne Valider avec OK Configuration sous Linux \u00c9diter le fichier de r\u00e9solution DNS : sudo nano /etc/resolv.conf Configuration du r\u00e9solveur DNS Ajouter ou modifier la ligne suivante dans le fichier : nameserver 192.168.1.1 \u2139\ufe0f Remarque Remplacer 192.168.1.1 par l\u2019adresse IP de votre serveur DNS interne. \ud83d\udd0d Test de fonctionnement Le bon fonctionnement du serveur DNS peut \u00eatre v\u00e9rifi\u00e9 de plusieurs mani\u00e8res : \ud83d\udd0e Test de r\u00e9solution de noms ping google.com nslookup google.com \ud83d\udce1 Analyse r\u00e9seau Observation des requ\u00eates DNS via Wireshark Conclusion Mettre en place un serveur DNS r\u00e9cursif interne avec Unbound est une solution efficace pour am\u00e9liorer les performances et renforcer le contr\u00f4le des requ\u00eates DNS dans une entreprise. M\u00eame si cela demande plus de travail en termes d\u2019installation et de maintenance, les b\u00e9n\u00e9fices en s\u00e9curit\u00e9, ind\u00e9pendance et ma\u00eetrise du r\u00e9seau sont significatifs. C\u2019est donc un choix pertinent pour une infrastructure professionnelle.","title":"DNS r\u00e9cursif (Unbound)"},{"location":"dns/dns-recursif-unbound/#installation-dun-serveur-dns-recursif-sous-debian-12-unbound","text":"","title":"Installation d\u2019un serveur DNS r\u00e9cursif sous Debian 12 (Unbound)"},{"location":"dns/dns-recursif-unbound/#introduction","text":"Dans ce tutoriel, nous allons apprendre \u00e0 installer et configurer un serveur DNS r\u00e9cursif sous Linux , en utilisant une machine sous Debian 12 . Le DNS (Domain Name System) est un service essentiel permettant de traduire les noms de domaine en adresses IP. Dans une entreprise, mettre en place un serveur DNS r\u00e9cursif interne permet d\u2019avoir plus de contr\u00f4le , de s\u00e9curit\u00e9 et de performances .","title":"Introduction"},{"location":"dns/dns-recursif-unbound/#rappels-sur-le-dns","text":"","title":"Rappels sur le DNS"},{"location":"dns/dns-recursif-unbound/#types-denregistrements-dns-principaux","text":"NS (Name Server) : d\u00e9finit les serveurs DNS faisant autorit\u00e9 sur une zone. A : associe un nom de domaine \u00e0 une adresse IPv4. AAAA : associe un nom de domaine \u00e0 une adresse IPv6. CNAME (Canonical Name) : alias pointant vers un autre nom de domaine. MX : d\u00e9finit les serveurs de messagerie d\u2019un domaine (avec priorit\u00e9). TXT : enregistrement textuel (SPF, v\u00e9rifications, etc.).","title":"Types d\u2019enregistrements DNS principaux"},{"location":"dns/dns-recursif-unbound/#avantages-et-inconvenients-dun-dns-recursif-interne","text":"","title":"Avantages et inconv\u00e9nients d\u2019un DNS r\u00e9cursif interne"},{"location":"dns/dns-recursif-unbound/#avantages","text":"Am\u00e9lioration des performances gr\u00e2ce au cache local R\u00e9duction de la d\u00e9pendance aux DNS publics (Google, Cloudflare\u2026) S\u00e9curit\u00e9 renforc\u00e9e (filtrage possible des requ\u00eates) Contr\u00f4le et journalisation des requ\u00eates DNS Continuit\u00e9 locale m\u00eame en cas de panne Internet","title":"Avantages"},{"location":"dns/dns-recursif-unbound/#inconvenients","text":"Complexit\u00e9 de gestion et de maintenance Consommation de ressources (CPU, m\u00e9moire) Point de d\u00e9faillance unique sans redondance Risque d\u2019erreurs de configuration Surveillance n\u00e9cessaire contre les abus DNS","title":"Inconv\u00e9nients"},{"location":"dns/dns-recursif-unbound/#installation-et-configuration-du-service-unbound","text":"","title":"Installation et configuration du service Unbound"},{"location":"dns/dns-recursif-unbound/#installation-du-service","text":"Mettre \u00e0 jour le syst\u00e8me et installer Unbound : sudo apt update sudo apt install unbound V\u00e9rifier la version install\u00e9e : sudo unbound -V Sauvegarde et configuration des fichiers La configuration d\u2019Unbound se trouve dans : /etc/unbound/unbound.conf Avant modification, il est recommand\u00e9 de sauvegarder le fichier : sudo cp /etc/unbound/unbound.conf /etc/unbound/unbound.conf.bak Exemple de configuration Unbound include-toplevel: \"/etc/unbound/unbound.conf.d/*.conf\" server: interface: 172.16.51.100 interface: 127.0.0.1 access-control: 172.16.1.0/24 allow access-control: 172.16.2.0/24 allow access-control: 172.16.3.0/24 allow access-control: 172.16.4.0/24 allow access-control: 172.16.0.0/24 allow access-control: 127.0.0.0/8 allow access-control: 0.0.0.0/0 refuse hide-version: yes hide-identity: yes do-ip4: yes verbosity: 3","title":"Installation du service"},{"location":"dns/dns-recursif-unbound/#ce-que-fait-cette-configuration","text":"\u2705 Contr\u00f4le d\u2019acc\u00e8s - Autorise uniquement les r\u00e9seaux internes d\u00e9finis (VLAN) \u2705 S\u00e9curit\u00e9 - Bloque toutes les requ\u00eates DNS externes - Masque l\u2019identit\u00e9 et la version du serveur DNS \u2705 Durcissement - R\u00e9duit la surface d\u2019attaque du service DNS D\u00e9marrage du service Unbound D\u00e9marrer le service : sudo systemctl start unbound V\u00e9rifier son \u00e9tat : sudo systemctl status unbound Configuration des clients","title":"Ce que fait cette configuration"},{"location":"dns/dns-recursif-unbound/#configuration-sous-windows","text":"Ouvrir le Panneau de configuration Aller dans R\u00e9seau et Internet \u2192 Centre R\u00e9seau et partage Cliquer sur Modifier les param\u00e8tres de la carte Clic droit sur la carte r\u00e9seau \u2192 Propri\u00e9t\u00e9s S\u00e9lectionner IPv4 \u2192 Propri\u00e9t\u00e9s Cocher Utiliser l\u2019adresse de serveur DNS suivante Entrer l\u2019IP du serveur DNS interne Valider avec OK Configuration sous Linux \u00c9diter le fichier de r\u00e9solution DNS : sudo nano /etc/resolv.conf","title":"Configuration sous Windows"},{"location":"dns/dns-recursif-unbound/#configuration-du-resolveur-dns","text":"Ajouter ou modifier la ligne suivante dans le fichier : nameserver 192.168.1.1 \u2139\ufe0f Remarque Remplacer 192.168.1.1 par l\u2019adresse IP de votre serveur DNS interne.","title":"Configuration du r\u00e9solveur DNS"},{"location":"dns/dns-recursif-unbound/#test-de-fonctionnement","text":"Le bon fonctionnement du serveur DNS peut \u00eatre v\u00e9rifi\u00e9 de plusieurs mani\u00e8res : \ud83d\udd0e Test de r\u00e9solution de noms ping google.com nslookup google.com \ud83d\udce1 Analyse r\u00e9seau Observation des requ\u00eates DNS via Wireshark","title":"\ud83d\udd0d Test de fonctionnement"},{"location":"dns/dns-recursif-unbound/#conclusion","text":"Mettre en place un serveur DNS r\u00e9cursif interne avec Unbound est une solution efficace pour am\u00e9liorer les performances et renforcer le contr\u00f4le des requ\u00eates DNS dans une entreprise. M\u00eame si cela demande plus de travail en termes d\u2019installation et de maintenance, les b\u00e9n\u00e9fices en s\u00e9curit\u00e9, ind\u00e9pendance et ma\u00eetrise du r\u00e9seau sont significatifs. C\u2019est donc un choix pertinent pour une infrastructure professionnelle.","title":"Conclusion"},{"location":"linux/InstallationDHCP/","text":"Installation et configuration d\u2019un serveur DHCP sous Debian 12 (KEA) Pr\u00e9sentation Ce document d\u00e9crit l\u2019installation et la configuration d\u2019un serveur DHCP sous Debian 12 \u00e0 l\u2019aide de la solution ISC KEA DHCP Server . Pr\u00e9requis Une machine Debian avec une adresse IP statique Exemple : 192.168.14.99/24 Aucun autre serveur DHCP actif sur le r\u00e9seau (\u00e9viter les conflits) Une machine cliente (Debian, Ubuntu, Windows\u2026) sans configuration IP Une connexion Internet pour installer les paquets Installation du serveur DHCP KEA Avant toute chose, mettre \u00e0 jour le syst\u00e8me et installer le serveur DHCP KEA : sudo apt-get update sudo apt-get install kea-dhcp4-server V\u00e9rifier l\u2019\u00e9tat du service : sudo systemctl status kea-dhcp4-server Le service utilise le fichier de configuration suivant : /etc/kea/kea-dhcp4.conf Configuration du serveur DHCP KEA Identifier l\u2019interface r\u00e9seau Afficher la configuration r\u00e9seau afin d\u2019identifier le nom de l\u2019interface : ip a Dans cet exemple, l\u2019interface utilis\u00e9e est ens33. Pr\u00e9parer le fichier de configuration Renommer le fichier de configuration par d\u00e9faut afin de repartir sur une base propre : sudo mv /etc/kea/kea-dhcp4.conf /etc/kea/kea-dhcp4.conf.bkp Cr\u00e9er et \u00e9diter le nouveau fichier : sudo nano /etc/kea/kea-dhcp4.conf Configuration globale du serveur DHCP Ajouter la configuration suivante { \"Dhcp4\": { \"interfaces-config\": { \"interfaces\": [ \"ens33\" ] }, \"valid-lifetime\": 691200, \"renew-timer\": 345600, \"rebind-timer\": 604800, \"authoritative\": true, \"lease-database\": { \"type\": \"memfile\", \"persist\": true, \"name\": \"/var/lib/kea/kea-leases4.csv\", \"lfc-interval\": 3600 } } } Cr\u00e9ation d\u2019une \u00e9tendue DHCP Pour distribuer des adresses IP sur le r\u00e9seau 192.168.2.0/24, ajouter une \u00e9tendue DHCP : { \"Dhcp4\": { \"interfaces-config\": { \"interfaces\": [ \"ens33\" ] }, \"valid-lifetime\": 691200, \"renew-timer\": 345600, \"rebind-timer\": 604800, \"authoritative\": true, \"lease-database\": { \"type\": \"memfile\", \"persist\": true, \"name\": \"/var/lib/kea/kea-leases4.csv\", \"lfc-interval\": 3600 }, \"subnet4\": [ { \"subnet\": \"192.168.2.0/24\", \"pools\": [ { \"pool\": \"192.168.2.1 - 192.168.2.125\" } ], \"option-data\": [ { \"name\": \"domain-name-servers\", \"data\": \"8.8.8.8\" }, { \"name\": \"domain-search\", \"data\": \"local.epoka2.lan\" }, { \"name\": \"routers\", \"data\": \"192.168.2.126\" } ] } ] } } Explication des options domain-name-servers : serveur DNS distribu\u00e9 aux clients domain-search : domaine de recherche local routers : passerelle par d\u00e9faut pools : plage d\u2019adresses IP attribu\u00e9es aux clients \u26a0\ufe0f Attention \u00e0 la syntaxe JSON : chaque \u00e9l\u00e9ment doit se terminer par une virgule, sauf le dernier. Red\u00e9marrage et v\u00e9rification du service Red\u00e9marrer le serveur DHCP : sudo systemctl restart kea-dhcp4-server.service Si le service ne d\u00e9marre pas, consulter les logs : sudo journalctl -xe | grep -e kea Une erreur de syntaxe dans le fichier de configuration peut emp\u00eacher le d\u00e9marrage du service. Test de fonctionnement Configurer un poste client pour qu\u2019il obtienne automatiquement une adresse IP via DHCP. Si le poste re\u00e7oit : une adresse IP une passerelle un serveur DNS \ud83d\udc49 alors le serveur DHCP est fonctionnel. Conclusion Le serveur DHCP KEA est d\u00e9sormais op\u00e9rationnel sous Debian 12 et pr\u00eat \u00e0 distribuer automatiquement les param\u00e8tres r\u00e9seau aux clients.","title":"DHCP (debian 12)"},{"location":"linux/InstallationDHCP/#installation-et-configuration-dun-serveur-dhcp-sous-debian-12-kea","text":"","title":"Installation et configuration d\u2019un serveur DHCP sous Debian 12 (KEA)"},{"location":"linux/InstallationDHCP/#presentation","text":"Ce document d\u00e9crit l\u2019installation et la configuration d\u2019un serveur DHCP sous Debian 12 \u00e0 l\u2019aide de la solution ISC KEA DHCP Server .","title":"Pr\u00e9sentation"},{"location":"linux/InstallationDHCP/#prerequis","text":"Une machine Debian avec une adresse IP statique Exemple : 192.168.14.99/24 Aucun autre serveur DHCP actif sur le r\u00e9seau (\u00e9viter les conflits) Une machine cliente (Debian, Ubuntu, Windows\u2026) sans configuration IP Une connexion Internet pour installer les paquets","title":"Pr\u00e9requis"},{"location":"linux/InstallationDHCP/#installation-du-serveur-dhcp-kea","text":"Avant toute chose, mettre \u00e0 jour le syst\u00e8me et installer le serveur DHCP KEA : sudo apt-get update sudo apt-get install kea-dhcp4-server V\u00e9rifier l\u2019\u00e9tat du service : sudo systemctl status kea-dhcp4-server Le service utilise le fichier de configuration suivant : /etc/kea/kea-dhcp4.conf Configuration du serveur DHCP KEA Identifier l\u2019interface r\u00e9seau Afficher la configuration r\u00e9seau afin d\u2019identifier le nom de l\u2019interface : ip a Dans cet exemple, l\u2019interface utilis\u00e9e est ens33. Pr\u00e9parer le fichier de configuration Renommer le fichier de configuration par d\u00e9faut afin de repartir sur une base propre : sudo mv /etc/kea/kea-dhcp4.conf /etc/kea/kea-dhcp4.conf.bkp Cr\u00e9er et \u00e9diter le nouveau fichier : sudo nano /etc/kea/kea-dhcp4.conf Configuration globale du serveur DHCP","title":"Installation du serveur DHCP KEA"},{"location":"linux/InstallationDHCP/#ajouter-la-configuration-suivante","text":"{ \"Dhcp4\": { \"interfaces-config\": { \"interfaces\": [ \"ens33\" ] }, \"valid-lifetime\": 691200, \"renew-timer\": 345600, \"rebind-timer\": 604800, \"authoritative\": true, \"lease-database\": { \"type\": \"memfile\", \"persist\": true, \"name\": \"/var/lib/kea/kea-leases4.csv\", \"lfc-interval\": 3600 } } } Cr\u00e9ation d\u2019une \u00e9tendue DHCP Pour distribuer des adresses IP sur le r\u00e9seau 192.168.2.0/24, ajouter une \u00e9tendue DHCP : { \"Dhcp4\": { \"interfaces-config\": { \"interfaces\": [ \"ens33\" ] }, \"valid-lifetime\": 691200, \"renew-timer\": 345600, \"rebind-timer\": 604800, \"authoritative\": true, \"lease-database\": { \"type\": \"memfile\", \"persist\": true, \"name\": \"/var/lib/kea/kea-leases4.csv\", \"lfc-interval\": 3600 }, \"subnet4\": [ { \"subnet\": \"192.168.2.0/24\", \"pools\": [ { \"pool\": \"192.168.2.1 - 192.168.2.125\" } ], \"option-data\": [ { \"name\": \"domain-name-servers\", \"data\": \"8.8.8.8\" }, { \"name\": \"domain-search\", \"data\": \"local.epoka2.lan\" }, { \"name\": \"routers\", \"data\": \"192.168.2.126\" } ] } ] } } Explication des options domain-name-servers : serveur DNS distribu\u00e9 aux clients domain-search : domaine de recherche local routers : passerelle par d\u00e9faut pools : plage d\u2019adresses IP attribu\u00e9es aux clients \u26a0\ufe0f Attention \u00e0 la syntaxe JSON : chaque \u00e9l\u00e9ment doit se terminer par une virgule, sauf le dernier. Red\u00e9marrage et v\u00e9rification du service Red\u00e9marrer le serveur DHCP : sudo systemctl restart kea-dhcp4-server.service Si le service ne d\u00e9marre pas, consulter les logs : sudo journalctl -xe | grep -e kea Une erreur de syntaxe dans le fichier de configuration peut emp\u00eacher le d\u00e9marrage du service. Test de fonctionnement Configurer un poste client pour qu\u2019il obtienne automatiquement une adresse IP via DHCP. Si le poste re\u00e7oit : une adresse IP une passerelle un serveur DNS \ud83d\udc49 alors le serveur DHCP est fonctionnel. Conclusion Le serveur DHCP KEA est d\u00e9sormais op\u00e9rationnel sous Debian 12 et pr\u00eat \u00e0 distribuer automatiquement les param\u00e8tres r\u00e9seau aux clients.","title":"Ajouter la configuration suivante"},{"location":"linux/commandes-de-base/","text":"Linux \u2013 Commandes de base Navigation ```bash pwd ls -la cd /etc","title":"Commandes de base"},{"location":"linux/commandes-de-base/#linux-commandes-de-base","text":"","title":"Linux \u2013 Commandes de base"},{"location":"linux/commandes-de-base/#navigation","text":"```bash pwd ls -la cd /etc","title":"Navigation"},{"location":"service-web/","text":"","title":"Introduction"},{"location":"stormshield/","text":"","title":"Introduction"},{"location":"versioning/","text":"","title":"Introduction"},{"location":"windows/","text":"","title":"Introduction"}]}